<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aquarium Manager API Documentation</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px; 
            line-height: 1.6; 
            background-color: #f8fafc;
        }
        .header { 
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); 
            color: white; 
            padding: 40px; 
            border-radius: 12px; 
            margin-bottom: 30px; 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .endpoint { 
            background: white; 
            border-left: 4px solid #3b82f6; 
            padding: 24px; 
            margin: 20px 0; 
            border-radius: 8px; 
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .method { 
            display: inline-block; 
            padding: 6px 14px; 
            border-radius: 6px; 
            font-weight: bold; 
            color: white; 
            margin-right: 12px; 
            font-size: 0.9em;
        }
        .GET { background-color: #059669; }
        .POST { background-color: #0ea5e9; }
        .PUT { background-color: #f59e0b; color: #1f2937; }
        .DELETE { background-color: #dc2626; }
        .code { 
            background: #f1f5f9; 
            border: 1px solid #e2e8f0;
            padding: 16px; 
            border-radius: 6px; 
            font-family: 'Fira Code', 'Courier New', monospace; 
            margin: 12px 0; 
            font-size: 0.9em;
            overflow-x: auto;
        }
        .auth-required { 
            color: #92400e; 
            background-color: #fef3c7; 
            border: 1px solid #f3e8a6; 
            padding: 10px; 
            border-radius: 6px; 
            margin: 12px 0; 
            font-weight: 500;
        }
        h2 { 
            color: #1f2937; 
            border-bottom: 3px solid #3b82f6; 
            padding-bottom: 12px; 
            margin-top: 40px;
        }
        h3 { 
            color: #374151; 
            margin-bottom: 8px;
        }
        .base-url { 
            background: #dbeafe; 
            border: 1px solid #93c5fd; 
            padding: 16px; 
            border-radius: 8px; 
            margin: 24px 0; 
        }
        .response-example {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            padding: 16px;
            border-radius: 6px;
            margin: 12px 0;
        }
        .field-info {
            background: #fef7ff;
            border: 1px solid #e9d5ff;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
            font-size: 0.9em;
        }
        .enum-values {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            padding: 12px;
            border-radius: 6px;
            margin: 8px 0;
            font-size: 0.9em;
        }
        .toc {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .toc ul {
            list-style: none;
            padding-left: 20px;
        }
        .toc a {
            color: #3b82f6;
            text-decoration: none;
        }
        .toc a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üê† Aquarium Manager API</h1>
        <p>Comprehensive RESTful API for managing aquariums, inhabitants, accessories, and ornaments</p>
        <p><strong>Version:</strong> v2.1.1 | <strong>Base URL:</strong> <code>https://web-production-8a8d.up.railway.app/api</code></p>
    </div>

    <div class="toc">
        <h2>üìã Table of Contents</h2>
        <ul>
            <li><a href="#authentication">üîê Authentication</a></li>
            <li><a href="#aquariums">üè† Aquariums</a></li>
            <li><a href="#inhabitants">üêü Inhabitants</a></li>
            <li><a href="#accessories">üõ†Ô∏è Accessories</a></li>
            <li><a href="#ornaments">üé® Ornaments</a></li>
            <li><a href="#responses">üìä Response Format</a></li>
            <li><a href="#errors">‚ùå Error Codes</a></li>
        </ul>
    </div>

    <h2 id="authentication">üîê Authentication</h2>
    <p>The API uses JWT (JSON Web Token) authentication. Most endpoints require authentication via the Authorization header:</p>
    <div class="code">Authorization: Bearer YOUR_JWT_TOKEN</div>

    <div class="endpoint">
        <h3><span class="method POST">POST</span>/auth/register</h3>
        <p>Register a new user account</p>
        <div class="code">{
  "firstName": "John",
  "lastName": "Doe", 
  "email": "john@example.com",
  "password": "password123"
}</div>
        <div class="response-example">
            <strong>Response (201 Created):</strong>
            <div class="code">{
  "status": "success",
  "data": {
    "ownerId": 1,
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  },
  "timestamp": 1750942763854,
  "message": "Registration successful"
}</div>
        </div>
        <div class="field-info">
            <strong>Field Requirements:</strong>
            <ul>
                <li><code>firstName</code> - Required, non-empty string</li>
                <li><code>lastName</code> - Required, non-empty string</li>
                <li><code>email</code> - Required, valid email format</li>
                <li><code>password</code> - Required, non-empty string</li>
            </ul>
        </div>
    </div>
    
    <div class="endpoint">
        <h3><span class="method POST">POST</span>/auth/login</h3>
        <p>Login with existing credentials</p>
        <div class="code">{
  "email": "john@example.com",
  "password": "password123"
}</div>
        <div class="response-example">
            <strong>Response (200 OK):</strong>
            <div class="code">{
  "status": "success",
  "data": {
    "ownerId": 1,
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  },
  "timestamp": 1750942763854,
  "message": "Login successful"
}</div>
        </div>
    </div>

    <h2 id="aquariums">üè† Aquariums</h2>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/aquariums</h3>
        <p>Get all aquariums for the authenticated user</p>
        <div class="response-example">
            <strong>Response (200 OK):</strong>
            <div class="code">{
  "status": "success",
  "data": [
    {
      "id": 1,
      "name": "My Tropical Tank",
      "length": 100.0,
      "width": 40.0,
      "height": 50.0,
      "substrate": "GRAVEL",
      "waterType": "FRESHWATER",
      "temperature": 25.5,
      "state": "RUNNING",
      "currentStateStartTime": "2025-01-15T10:30:00",
      "color": "Blue",
      "description": "Beautiful tropical aquarium",
      "dateCreated": "2025-01-10T14:20:00",
      "ownerId": 1,
      "aquariumManagerId": 1
    }
  ],
  "timestamp": 1750942763854,
  "message": "Aquariums fetched successfully"
}</div>
        </div>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method POST">POST</span>/aquariums</h3>
        <p>Create a new aquarium</p>
        <div class="code">{
  "name": "My Tropical Tank",
  "length": 100.0,
  "width": 40.0,
  "height": 50.0,
  "substrate": "GRAVEL",
  "waterType": "FRESHWATER",
  "temperature": 25.5,
  "state": "SETUP",
  "color": "Blue",
  "description": "Beautiful tropical aquarium"
}</div>
        <div class="enum-values">
            <strong>Substrate Types:</strong> SAND, GRAVEL, SOIL<br>
            <strong>Water Types:</strong> FRESHWATER, SALTWATER<br>
            <strong>States:</strong> SETUP, RUNNING, MAINTENANCE, INACTIVE
        </div>
        <div class="response-example">
            <strong>Response (201 Created):</strong>
            <div class="code">{
  "status": "success",
  "data": { /* Aquarium object */ },
  "timestamp": 1750942763854,
  "message": "Aquarium created successfully"
}</div>
        </div>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/aquariums/{id}</h3>
        <p>Get details of a specific aquarium (owner must own the aquarium)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method PUT">PUT</span>/aquariums/{id}</h3>
        <p>Update an existing aquarium (owner must own the aquarium)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method DELETE">DELETE</span>/aquariums/{id}</h3>
        <p>Delete an aquarium (owner must own the aquarium)</p>
    </div>

    <h2 id="inhabitants">üêü Inhabitants</h2>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/inhabitants</h3>
        <p>Get all inhabitants for the authenticated user</p>
        <div class="response-example">
            <strong>Response (200 OK):</strong>
            <div class="code">{
  "status": "success",
  "data": [
    {
      "id": 1,
      "inhabitantType": "Fish",
      "species": "Goldfish",
      "color": "Orange",
      "count": 3,
      "isSchooling": false,
      "waterType": "FRESHWATER",
      "name": "Goldie",
      "description": "Beautiful goldfish",
      "dateCreated": "2025-01-10T14:20:00",
      "ownerId": 1,
      "aquariumId": 1,
      "isAggressiveEater": false,
      "requiresSpecialFood": false,
      "isSnailEater": false
    }
  ],
  "timestamp": 1750942763854,
  "message": "Inhabitants retrieved successfully"
}</div>
        </div>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method POST">POST</span>/inhabitants</h3>
        <p>Create a new inhabitant (fish, plant, snail, etc.)</p>
        <div class="code">{
  "species": "Goldfish",
  "color": "Orange",
  "description": "Beautiful goldfish",
  "count": 3,
  "isSchooling": false,
  "waterType": "FRESHWATER",
  "type": "fish",
  "aquariumId": 1,
  "isAggressiveEater": false,
  "requiresSpecialFood": false,
  "isSnailEater": false,
  "name": "Goldie"
}</div>
        <div class="enum-values">
            <strong>Inhabitant Types:</strong> fish, plant, snail, shrimp, crayfish, coral<br>
            <strong>Water Types:</strong> FRESHWATER, SALTWATER
        </div>
        <div class="field-info">
            <strong>Required Fields:</strong>
            <ul>
                <li><code>species</code> - Non-empty string</li>
                <li><code>name</code> - Non-empty string</li>
                <li><code>type</code> - One of the supported inhabitant types</li>
            </ul>
            <strong>Optional Fields:</strong>
            <ul>
                <li><code>color</code> - String</li>
                <li><code>description</code> - String</li>
                <li><code>count</code> - Integer (default: 1)</li>
                <li><code>isSchooling</code> - Boolean (default: false)</li>
                <li><code>waterType</code> - FRESHWATER or SALTWATER (default: FRESHWATER)</li>
                <li><code>aquariumId</code> - Long (assigns to aquarium)</li>
                <li><code>isAggressiveEater</code> - Boolean (default: false)</li>
                <li><code>requiresSpecialFood</code> - Boolean (default: false)</li>
                <li><code>isSnailEater</code> - Boolean (default: false)</li>
            </ul>
        </div>
        <div class="response-example">
            <strong>Response (201 Created):</strong>
            <div class="code">{
  "status": "success",
  "data": {
    "inhabitant": { /* Inhabitant object */ },
    "id": 1
  },
  "timestamp": 1750942763854,
  "message": "Inhabitant created successfully"
}</div>
        </div>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/inhabitants/{id}</h3>
        <p>Get details of a specific inhabitant (owner must own the inhabitant)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method PUT">PUT</span>/inhabitants/{id}</h3>
        <p>Update an existing inhabitant (owner must own the inhabitant)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method DELETE">DELETE</span>/inhabitants/{id}</h3>
        <p>Delete an inhabitant (owner must own the inhabitant)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/inhabitants/aquarium/{aquariumId}</h3>
        <p>Get all inhabitants in a specific aquarium</p>
    </div>

    <h2 id="accessories">üõ†Ô∏è Accessories</h2>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/accessories</h3>
        <p>Get all accessories for the authenticated user</p>
        <div class="response-example">
            <strong>Response (200 OK):</strong>
            <div class="code">{
  "status": "success",
  "data": [
    {
      "id": 1,
      "accessoryType": "Filter",
      "model": "Canister Filter Pro",
      "serialNumber": "CF-2024-001",
      "color": "Black",
      "description": "High-quality canister filter",
      "dateCreated": "2025-01-10T14:20:00",
      "ownerId": 1,
      "aquariumId": 1,
      "isExternal": true,
      "capacityLiters": 500.0,
      "isLed": false,
      "timeOn": null,
      "timeOff": null,
      "minTemperature": null,
      "maxTemperature": null,
      "currentTemperature": null
    }
  ],
  "timestamp": 1750942763854,
  "message": "Accessories retrieved successfully"
}</div>
        </div>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method POST">POST</span>/accessories</h3>
        <p>Create a new accessory (filter, heater, lighting, etc.)</p>
        <div class="code">{
  "model": "Canister Filter Pro",
  "serialNumber": "CF-2024-001",
  "type": "filter",
  "aquariumId": 1,
  "isExternal": true,
  "capacityLiters": 500,
  "color": "Black",
  "description": "High-quality canister filter"
}</div>
        <div class="enum-values">
            <strong>Accessory Types:</strong>
            <ul>
                <li><strong>filter</strong> - Requires: capacityLiters (integer), isExternal (boolean)</li>
                <li><strong>lighting</strong> - Requires: isLED (boolean), timeOn/timeOff (HH:mm format)</li>
                <li><strong>heater</strong> or <strong>thermostat</strong> - Requires: minTemperature, maxTemperature, currentTemperature (doubles)</li>
            </ul>
        </div>
        <div class="field-info">
            <strong>Required Fields:</strong>
            <ul>
                <li><code>model</code> - Non-empty string (1-50 chars)</li>
                <li><code>serialNumber</code> - Non-empty string (1-50 chars)</li>
                <li><code>type</code> - filter, lighting, heater, or thermostat</li>
            </ul>
            <strong>Type-Specific Requirements:</strong>
            <ul>
                <li><strong>Filter:</strong> capacityLiters (positive integer), isExternal (boolean)</li>
                <li><strong>Lighting:</strong> isLED (boolean), timeOn/timeOff (HH:mm format strings)</li>
                <li><strong>Heater/Thermostat:</strong> minTemperature, maxTemperature, currentTemperature (positive doubles)</li>
            </ul>
        </div>
        <div class="response-example">
            <strong>Response (201 Created):</strong>
            <div class="code">{
  "status": "success",
  "data": {
    "accessory": { /* Accessory object */ },
    "id": 1
  },
  "timestamp": 1750942763854,
  "message": "Accessory created successfully"
}</div>
        </div>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/accessories/{id}</h3>
        <p>Get details of a specific accessory (owner must own the accessory)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method PUT">PUT</span>/accessories/{id}</h3>
        <p>Update an existing accessory (owner must own the accessory)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method DELETE">DELETE</span>/accessories/{id}</h3>
        <p>Delete an accessory (owner must own the accessory)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/accessories/aquarium/{aquariumId}</h3>
        <p>Get all accessories in a specific aquarium</p>
    </div>

    <h2 id="ornaments">üé® Ornaments</h2>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/ornaments</h3>
        <p>Get all ornaments for the authenticated user</p>
        <div class="response-example">
            <strong>Response (200 OK):</strong>
            <div class="code">{
  "status": "success",
  "data": [
    {
      "id": 1,
      "name": "Castle Decoration",
      "material": "ceramic",
      "color": "Grey",
      "description": "Medieval castle ornament",
      "isAirPumpCompatible": true,
      "dateCreated": "2025-01-10T14:20:00",
      "ownerId": 1,
      "aquariumId": 1
    }
  ],
  "timestamp": 1750942763854,
  "message": "Ornaments retrieved successfully"
}</div>
        </div>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method POST">POST</span>/ornaments</h3>
        <p>Create a new ornament</p>
        <div class="code">{
  "name": "Castle Decoration",
  "color": "Grey",
  "material": "ceramic",
  "description": "Medieval castle ornament",
  "isAirPumpCompatible": true,
  "aquariumId": 1
}</div>
        <div class="field-info">
            <strong>Required Fields:</strong>
            <ul>
                <li><code>name</code> - Non-empty string</li>
            </ul>
            <strong>Optional Fields:</strong>
            <ul>
                <li><code>color</code> - String</li>
                <li><code>material</code> - String (ceramic, plastic, stone, etc.)</li>
                <li><code>description</code> - String</li>
                <li><code>isAirPumpCompatible</code> - Boolean (default: false)</li>
                <li><code>aquariumId</code> - Long (assigns to aquarium)</li>
            </ul>
        </div>
        <div class="response-example">
            <strong>Response (201 Created):</strong>
            <div class="code">{
  "status": "success",
  "data": {
    "ornament": { /* Ornament object */ },
    "id": 1
  },
  "timestamp": 1750942763854,
  "message": "Ornament created successfully"
}</div>
        </div>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/ornaments/{id}</h3>
        <p>Get details of a specific ornament (owner must own the ornament)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method PUT">PUT</span>/ornaments/{id}</h3>
        <p>Update an existing ornament (owner must own the ornament)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method DELETE">DELETE</span>/ornaments/{id}</h3>
        <p>Delete an ornament (owner must own the ornament)</p>
    </div>
    
    <div class="endpoint">
        <div class="auth-required">üîí Authentication Required</div>
        <h3><span class="method GET">GET</span>/ornaments/aquarium/{aquariumId}</h3>
        <p>Get all ornaments in a specific aquarium</p>
    </div>

    <h2 id="responses">üìä Response Format</h2>
    <p>All API responses follow a consistent format using the <code>ApiResponse</code> wrapper:</p>
    <div class="code">{
  "status": "success|error",
  "data": { /* Response data object or array */ },
  "timestamp": 1750942763854,
  "message": "Human readable message"
}</div>
    
    <h3>Success Response</h3>
    <ul>
        <li><code>status</code>: Always "success" for successful operations</li>
        <li><code>data</code>: Contains the actual response data (object, array, or null)</li>
        <li><code>timestamp</code>: Unix timestamp of the response</li>
        <li><code>message</code>: Human-readable success message</li>
    </ul>
    
    <h3>Error Response</h3>
    <div class="code">{
  "status": "error",
  "data": null,
  "timestamp": 1750942763854,
  "message": "Error description"
}</div>

    <h2 id="errors">‚ùå Error Codes</h2>
    <div class="endpoint">
        <h3>HTTP Status Codes</h3>
        <ul>
            <li><strong>200 OK</strong> - Request successful</li>
            <li><strong>201 Created</strong> - Resource created successfully</li>
            <li><strong>400 Bad Request</strong> - Invalid input data or validation failure</li>
            <li><strong>401 Unauthorized</strong> - Missing, invalid, or expired authentication token</li>
            <li><strong>403 Forbidden</strong> - User doesn't have permission to access/modify resource</li>
            <li><strong>404 Not Found</strong> - Resource doesn't exist</li>
            <li><strong>405 Method Not Allowed</strong> - HTTP method not supported for endpoint</li>
            <li><strong>409 Conflict</strong> - Resource already exists or business rule violation</li>
            <li><strong>415 Unsupported Media Type</strong> - Content-Type not application/json</li>
            <li><strong>500 Internal Server Error</strong> - Server-side error</li>
        </ul>
    </div>

    <h2>üîê Security & Authorization</h2>
    <div class="endpoint">
        <h3>Authentication</h3>
        <ul>
            <li>JWT tokens are required for all endpoints except <code>/auth/login</code> and <code>/auth/register</code></li>
            <li>Include token in Authorization header: <code>Authorization: Bearer {token}</code></li>
            <li>Tokens contain owner ID and are used for resource access control</li>
        </ul>
        
        <h3>Authorization</h3>
        <ul>
            <li><strong>Resource Ownership:</strong> Users can only access/modify their own resources</li>
            <li><strong>Aquarium-based Access:</strong> Users can only access inhabitants/accessories/ornaments in their own aquariums</li>
            <li><strong>Admin Access:</strong> Admin users have elevated permissions (if applicable)</li>
        </ul>
    </div>

    <div style="margin-top: 60px; text-align: center; color: #6b7280; border-top: 1px solid #e5e7eb; padding-top: 30px;">
        <p><strong>Aquarium Manager API v2.1.1</strong></p>
        <p>Built with ‚ù§Ô∏è for aquarium enthusiasts | Last updated: January 2025</p>
        <p>This documentation is automatically generated from the actual backend implementation</p>
    </div>
</body>
</html>
